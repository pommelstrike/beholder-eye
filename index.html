<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LSX File Processor</title>
  <script src="https://cdn.jsdelivr.net/npm/jszip/dist/jszip.min.js"></script>
  <script defer src="app.js"></script>
  <style>
    /* General Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans', sans-serif;
      line-height: 1.6;
      background-color: #1e1e1e; /* Industry-standard dark background */
      color: #eaeaea; /* High-contrast text */
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    h1 {
      margin-bottom: 10px;
      color: #d4af37; /* Gold-like accent for header */
    }

    p {
      margin-bottom: 20px;
      max-width: 800px;
      color: #c7c7c7; /* Softer contrast for secondary text */
    }

    #dropZone {
      margin-top: 20px;
      padding: 50px;
      width: 80%;
      max-width: 800px;
      border: 2px dashed #4caf50; /* High-visibility green border */
      border-radius: 10px;
      text-align: center;
      font-size: 1.2em;
      color: #c7c7c7;
      background-color: #292929; /* Slightly lighter than the background */
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    #dropZone:hover {
      background-color: #3a3a3a; /* Highlight on hover */
      color: #ffffff; /* Full white for hover text */
    }

    #modeToggle {
      margin-top: 20px;
      padding: 12px 24px;
      background-color: #4caf50; /* Green button for action */
      color: #1e1e1e;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1em;
      text-align: center;
    }

    #modeToggle:hover {
      background-color: #388e3c; /* Slightly darker green */
      color: #ffffff;
    }

    #downloadButton {
      display: none;
      margin-top: 20px;
      padding: 12px 24px;
      background-color: #4caf50;
      color: #1e1e1e;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      font-size: 1em;
    }

    #downloadButton:hover {
      background-color: #388e3c;
      color: #ffffff;
    }

    footer {
      margin-top: 40px;
      font-size: 0.9em;
      text-align: center;
      color: #9e9e9e; /* Muted text for footer */
    }
  </style>
</head>
<body>
  <header>
    <h1><strong>pommelstrike's BeholderEye:</strong> Fix your materialbank .lsf files for console compatibility.</h1>
  </header>
  <main>
    <p id="lsxSummary">
      <strong>Materialbank .LSX Processing Mode:</strong> This mode allows you to batch process MaterialBank .lsx files. Drag and drop your .lsx files, and the tool will automatically repoint the shader references to ensure compatibility with Baldur's Gate 3 for PC but more importantly for console.
    </p>
    <p>
      After drag and drop of .lsx files:
      <br>
      - A .zip file will be available to download with updated .lsx files.
      <br>
      - An update report text file explaining the changes made.
    </p>
    <p id="bshdSummary" style="display: none;">
      <strong>Markdown Tree Mode:</strong> This mode scans your project folder and generates a Markdown tree structure of the directory with .bshd shader files locations within your mod project.
    </p>
    <p>
      Note: This tool processes all files locally within your browser. Nothing is ever uploaded.
    </p>
    <p>
      This process ensures your shaders will work seamlessly with pre-packaged BG3 game shaders for console compatibility.
    </p>
    <div id="dropZone">Drag and drop your .lsx files here</div>
    <button id="modeToggle">Switch to Markdown Tree Mode</button>
    <a id="downloadButton">Download Processed Files</a>
    <p id="patreonMessage" style="display: none;">
        If you like more tools like this, please consider supporting me to create more BG3 tools and mods <a href="https://www.patreon.com/pommelstrike" target="_blank">https://www.patreon.com/pommelstrike</a>, thank you.
    </p>
  </main>
  <footer>
    <p><a href="https://linktr.ee/pommelstrike" target="_blank">https://linktr.ee/pommelstrike</a></p>
  </footer>
</body>
</html>
