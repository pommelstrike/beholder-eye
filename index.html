<!doctype html>
<html lang="en">
    <head>
        <!-- Import Google Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Display:wght@400;700&display=swap" rel="stylesheet">
        <!-- Import Font Awesome -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>pommelstrike's BeholderEye Tool</title>
        <script src="https://cdn.jsdelivr.net/npm/jszip/dist/jszip.min.js"></script>
        <script defer src="app.js"></script>
        <style>
            body {
                font-family: 'Noto Sans Display', sans-serif; /* Updated font */
                background-color: #191919;
                color: #e0e0e0;
                margin: 0;
                padding: 0;
                text-align: center; /* Center align all elements globally */
            }
            #dropZone {
                border: 2px dashed #5f6d45;
                padding: 20px;
                cursor: pointer;
                margin: 20px auto;
                width: 80%; /* Restrict width for better UX */
            }
            #downloadButton {
                display: none;
                padding: 10px 20px;
                background-color: #5f6d45;
                color: white;
                text-decoration: none;
                border-radius: 5px;
                font-size: 1.2em;
                margin-top: 20px;
            }
            #downloadButton:hover {
                background-color: #4a5433;
            }
            header,
            footer {
                margin: 20px;
            }
            footer p {
                font-size: 0.8em;
                color: #888888;
            }
            a.patreon-link {
                color: white;
                text-decoration: none;
                font-size: 1em;
                background-color: #f96854;
                padding: 8px 12px;
                border-radius: 5px;
                display: inline-block;
                margin-top: 10px;
            }
            a.patreon-link:hover {
                background-color: #d64b42;
            }
            a.patreon-link i {
                margin-right: 8px;
            }
            .feature-block {
                background-color: #252525; /* Slightly lighter than body background */
                border: 1px solid #5f6d45; /* Matches themed styling */
                border-radius: 8px;
                padding: 20px;
                margin: 20px auto;
                width: 80%; /* Consistent width */
                text-align: left; /* Align text for readability */
            }
            .feature-block h4 {
                color: #e0e0e0;
                margin-bottom: 10px;
            }
            .feature-block ul {
                padding-left: 20px;
            }
            .feature-block li {
                margin-bottom: 10px;
            }
        </style>
    </head>
    <body>
        <header>
            <h1>pommelstrike's BeholderEye Tool</h1>
            <p>Drag and drop .lsx files to fix shader references or generate a Markdown tree for .bshd files.</p>
        </header>
        <main>
            <div id="dropZone">Drag and drop your files here</div>
            <button id="modeToggle" aria-label="Switch to Markdown Tree Mode" title="Switch to Markdown Tree Mode">
                Switch to Markdown Tree Mode
            </button>
            <input type="file" id="fileInput" multiple style="display: none" />
            <a id="downloadButton" aria-label="Download Processed Files" title="Download Processed Files">
                <i class="fas fa-download"></i> Download Processed Files
            </a>
            <p id="patreonMessage" style="display: none">
                If you like more tools like this, please consider supporting me on
                <a
                    href="https://www.patreon.com/pommelstrike"
                    target="_blank"
                    class="patreon-link"
                    aria-label="Support me on Patreon"
                    title="Support me on Patreon"
                >
                    <i class="fa-brands fa-patreon"></i> Support me on Patreon
                </a>.
            </p>
            <div class="feature-block">
                <h4>1. MaterialBank Shader Repoint Mode</h4>
                <ul>
                    <li><strong>Function:</strong> Processes <code>.lsx</code> files to update shader references and ensures compatibility with Baldur's Gate 3.</li>
                    <li><strong>Key Actions:</strong>
                        <ul>
                            <li>Validates the presence of <code>&lt;region id="MaterialBank"&gt;</code> and <code>&lt;node id="MaterialBank"&gt;</code> in <code>.lsx</code> files.</li>
                            <li>Updates shader file paths (e.g., changing <code>Public/&lt;mod_name&gt;/Assets</code> to <code>Public/Shared/Assets</code>).</li>
                            <li>Removes unnecessary GUID suffixes from shader file references.</li>
                        </ul>
                    </li>
                    <li><strong>Output:</strong>
                        <ul>
                            <li>Updated <code>.lsx</code> files.</li>
                            <li>A detailed <code>Update_Report.txt</code> summarizing the changes.</li>
                            <li>Packaged as a <code>.zip</code> file for download.</li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="feature-block">
                <h4>2. Markdown Tree Mode</h4>
                <ul>
                    <li><strong>Function:</strong> Generates a Markdown tree structure for a directory of <code>.bshd</code> shader files.</li>
                    <li><strong>Key Actions:</strong>
                        <ul>
                            <li>Recursively scans directories for <code>.bshd</code> files.</li>
                            <li>Formats the directory structure into a Markdown file.</li>
                            <li>Highlights <code>.bshd</code> files for quick reference.</li>
                        </ul>
                    </li>
                    <li><strong>Output:</strong>
                        <ul>
                            <li>A downloadable <code>.md</code> file containing the directory tree structure.</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </main>
        <footer>
            <p>Made with rage by pommelstrike</p>
        </footer>
    </body>
</html>
